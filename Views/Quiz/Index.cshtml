@using Onyx17.Constants
@model IEnumerable<Quiz>
@{
    ViewData["Title"] = "Тест";
}

<head>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/Quiz/QuizStyles.css" />
</head>
<body>
    <h1 class="mt-5 mb-5 text-light">Тестове</h1>
    @if (User.IsInRole(Roles.Admin))
    {
        <a asp-action="Create" asp-controller="Quiz" class="btn btn-lg btn-light">Създай</a>
    }
    <div class="quizzesContainer mt-5">
        @foreach(var quiz in Model)
        {   
            <div class="quizContentContainer mb-5">
                <div class="quizImageContainer">
                    <img src="@Url.Action("GetQuizImage", "Quiz", new { quizId = quiz.Id })" 
                        class="img-fluid quizImage p-3" />
                </div>
                <div class="ms-3 mt-2 quizTextContainer">
                    <p class="fs-2 text-light fw-bold">@quiz.Title</p>
                    <p class="fs-4">@quiz.Description</p>
                </div>
                <div class="mt-3 me-3">
                    @if (User.IsInRole(Roles.Admin))
                    {
                        <a asp-action="Index" asp-controller="QuizQuestion" asp-route-quizId="@quiz.Id" 
                            class="btn btn-lg btn-light me-3">Въпроси
                        </a>
                    }
                    <a asp-action="StartTest" asp-controller="QuizQuestion" asp-route-quizId="@quiz.Id"
                       class="btn btn-lg btn-light">Започни теста
                    </a>
                </div>
            </div>
        }
    </div>
</body>